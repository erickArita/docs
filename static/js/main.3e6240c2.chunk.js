(this["webpackJsonpmatricula-app"]=this["webpackJsonpmatricula-app"]||[]).push([[0],{187:function(e,t,a){},202:function(e,t,a){e.exports=a.p+"static/media/question.1132d059.svg"},203:function(e,t,a){e.exports=a.p+"static/media/graduation.453dc2dc.svg"},212:function(e,t,a){e.exports=a(484)},221:function(e,t,a){},222:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},236:function(e,t){},238:function(e,t){},249:function(e,t){},251:function(e,t){},277:function(e,t){},279:function(e,t){},280:function(e,t){},286:function(e,t){},288:function(e,t){},306:function(e,t){},308:function(e,t){},320:function(e,t){},323:function(e,t){},480:function(e,t,a){},483:function(e,t,a){},484:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(40),c=a.n(l),o=a(12),i=a(17),s=a(15),u=a(9),m=(a(221),a(222),a(202)),d=a.n(m),p=a(203),f=a.n(p),E=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header-clases flex"},r.a.createElement("div",{className:"textos-clases"},r.a.createElement("h1",null,"Centro De Educaci\xf3n Media Gubernamental ",r.a.createElement("br",null),' "Superaci\xf3n Cashapa"'),r.a.createElement("h3",null,"Plataforma de Matr\xedcula")),r.a.createElement("img",{className:"an_upDown",src:f.a,alt:"Ilustracion graduados"}),r.a.createElement(i.b,{style:{zIndex:"200"},to:"/matricularme"},r.a.createElement("button",{className:"btn btn-primary"},"MATRICULARME"))),r.a.createElement("svg",{className:"ilustracion-header",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"},r.a.createElement("path",{fill:"#fff",fillOpacity:"1",d:"M0,224L48,197.3C96,171,192,117,288,112C384,107,480,149,576,138.7C672,128,768,64,864,53.3C960,43,1056,85,1152,90.7C1248,96,1344,64,1392,48L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})),r.a.createElement("section",{className:"vh-100 d-flex align-center"},r.a.createElement("div",{className:"d-flex flex-wrap flex-md-row flex-sm-column   justify-content-center justify-content-sm-center align-items-center"},r.a.createElement("img",{className:"an_upDown",style:{minWidth:"300px",width:"49vw"},src:d.a,alt:""}),r.a.createElement("div",{style:{minWidth:"300px",height:"70vh"},className:"d-flex w-50  flex-column justify-content-center align-items-center"},r.a.createElement("h2",{className:"text-body"},"\xbfPor qu\xe9 el INSUCA?"),r.a.createElement("p",{className:"mt-3 p-2 "},"Somos el colegio del pueblo desde 1992, para educar a los que moldear\xe1n el futuro de nuestro pa\xeds te invitamos a unirte a esta comunidad de aprendizaje y desarrollo de habilidades t\xe9cnicas y blandas."),r.a.createElement("p",{className:"font-italic text-white mt-3"},'"Educamos para Transformar"')))))},b=a(38),g=a.n(b),v=a(67),h=a(19),N=a.n(h),y=a(45),j=a.n(y);a(224),a(489),a(227);j.a.initializeApp({apiKey:"AIzaSyCq7zt69yP2i7eekYAbP0nUFFtUVnQ7ZXU",authDomain:"insuca-matricula.firebaseapp.com",databaseURL:"https://insuca-matricula.firebaseio.com",projectId:"insuca-matricula",storageBucket:"insuca-matricula.appspot.com",messagingSenderId:"155937400895",appId:"1:155937400895:web:7a5c78db669a02654df08a",measurementId:"G-3FRFMCM6KK"});var O=j.a.firestore(),x=j.a.firestore,C=j.a.storage(),k=j.a.auth(),w=new j.a.auth.GoogleAuthProvider,S={login:"[auth] login",logout:"[auth] logout",uiSetError:"[UI] Set Error",uiRemoveError:"[UI] Set Remove Error",uiStartLoading:"[UI] Start Loading",uiFinishLoading:"[UI] Finish Loading",setFilters:"[set] Set Filters",updateFilters:"[update] Update Filters",getStudents:"[get] Get Students",updateStudent:"[update] Update Student Registered",setLoading:"[loading] Set Loading",unsetLoading:"[loading] Unset Loading",setCreatePdf:"[set] Set CreatePdf",unSetCreatePdf:"[set] Set CreatePdf",createPdf:"[create] Create Pdf",loginStudent:"[auth] loginStudent",logoutStudent:"[auth] logoutStudent",createTask:"[Task] createTask",getTasks:"[get] tasks",getTask:"[get] task",deleteTask:"[del] deleteTask",completeTask:"[completa] completeTask",updateTask:"[upd] updateTask"},F=function(e){switch(e){case"auth/user-not-found":return"Correo No encontrado";case"auth/wrong-password":return"Contrase\xf1a incorrecta";case"auth/email-already-in-use":return"Email en uso";default:return"usuario no existente"}},A=function(e){return{type:S.uiSetError,payload:e}},I=function(){return{type:S.uiRemoveError}},L=function(){return{type:S.uiStartLoading}},T=function(){return{type:S.uiFinishLoading}},P=function(e,t){return{type:S.login,payload:{uid:e,displayName:t}}},D=function(){return{type:S.logout}},q=function(e,t){return{type:S.loginStudent,payload:{uid:e,displayName:t}}},M=a(50),R=a.n(M),U=(a(229),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.auth})).uid,a=Object(u.c)((function(e){return e.studentAuth}));return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark  sticky-top",id:"navbar"},r.a.createElement("div",{className:"d-flex flex-wrap justify-content-center "},r.a.createElement(i.b,{to:"/",className:"navbar-brand  "},r.a.createElement("div",{className:"logo-principal"},r.a.createElement("img",{alt:"logo",src:R.a}))),r.a.createElement(i.b,{className:"text-decoration-none d-flex align-items-center",to:"/"},r.a.createElement("div",{className:"text-dark"},r.a.createElement("h3",null," INSUCA MATR\xcdCULA")))),r.a.createElement("button",{className:"navbar-toggler","data-target":"#main-navbar","data-toggle":"collapse",type:"button"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"navbar-right"},r.a.createElement("div",{className:"collapse navbar-collapse border-bottom-white ",id:"main-navbar"},r.a.createElement("ul",{className:"navbar-nav pr-5  "},r.a.createElement("li",{className:"nav-item "},r.a.createElement(i.c,{activeClassName:"activeClick",exact:!0,className:"nav-link",to:"/"},"Inicio")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.c,{activeClassName:"activeClick",className:"nav-link",to:"/matricularme"},"Matricularme")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.c,{activeClassName:"activeClick",className:"nav-link",to:"/login"},"Administrador")),t&&r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(i.c,{className:"nav-link dropdown-toggle",to:"#",id:"navbarDropdownMenuLink",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Usuario"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},r.a.createElement(i.c,{className:"nav-link text-body",to:"/createAcount"},"Crear usuario"),r.a.createElement(i.c,{to:"#",className:"nav-link text-body pointer",onClick:function(){e(function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.signOut();case 2:t(D());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e({type:S.logoutStudent})}}," Cerrar Secion"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.c,{activeClassName:"activeClick",className:"nav-link",to:(null===a||void 0===a?void 0:a.uid)?"/tasks":"/tasks-login"},"Anotaciones"))))))}),B=a(5),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add":return[Object(B.a)(Object(B.a)({},e),{},{state:t.payload})];default:return[e]}},z=a(51),_=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),r=a[0],l=a[1];return[r,function(e){var t=e.target;l(Object(B.a)(Object(B.a)({},r),{},Object(z.a)({},t.name,t.value)))},function(e){l(Object(B.a)(Object(B.a)({},r),{},{edad:e}))},function(e){l(Object(B.a)(Object(B.a)({},r),{},{url:e}))},function(){l(Object(B.a)({},e))},l]},V=a(205),Y=a.n(V),W=(a(230),a(231),a(204)),J=Object(W.uid)(6),H=r.a.memo((function(e){var t=e.handleinputFile;return r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:""},"Adjuntar foto tama\xf1o carnet "),r.a.createElement("br",null),r.a.createElement("input",{id:"fileInput",type:"file",className:"form-control w-50",name:"url",required:!0,onChange:function(e){!function(e,t){var a=C.ref("students/".concat(J,"/").concat(e.name)).put(e);a.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;N.a.fire({title:"Subiendo ",text:"Espere un momento ".concat(t,"%"),allowOutsideClick:!1,onBeforeOpen:function(){N.a.showLoading()}})}),(function(e){N.a.fire({icon:"error",title:"Oops...",text:"Ocurrio un error en la carga del archivo",footer:"Verifica tu conexi\xf3n"})}),Object(v.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N.a.close(),e.next=3,a.snapshot.ref.getDownloadURL();case 3:n=e.sent,t(n),N.a.fire({icon:"success",title:"Archivo guardado",showConfirmButton:!1,timer:1500});case 6:case"end":return e.stop()}}),e)}))))}(e.target.files[0],t)},style:{display:"none"}}),r.a.createElement("button",{type:"button",className:"btn btn-outline-info",onClick:function(){document.querySelector("#fileInput").click()}},"Subir Archivo"))})),K=function(e){var t=e.handleAdd,a=_({name:"",email:"",localidad:"",numIdentidad:"",sexo:"",edad:"",grado:"",numtelefono:"",nameFather:"",numIdentidadFather:"",sexoFather:"",parentesco:"",telefonoFather:"",url:"",modalidad:""}),n=Object(o.a)(a,5),l=n[0],c=n[1],i=n[2],s=n[3],u=n[4],m=l.name,d=l.email,p=l.localidad,f=l.sexo,E=l.edad,b=l.grado,g=l.numtelefono,v=l.numIdentidad,h=l.nameFather,N=l.numIdentidadFather,y=l.sexoFather,j=l.parentesco,O=l.telefonoFather,x=l.modalidad;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"container marco mb-5 mt-5 p-5",onSubmit:function(e){e.preventDefault(),t(l),u()}},r.a.createElement("h4",{className:"mt-2"},"Datos del Alumno"),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"name"},"Nombre Completo"),r.a.createElement("input",{type:"text",className:"form-control",onChange:c,value:m,placeholder:"Erick Marley Arita Orellana",autoComplete:"off",name:"name",required:!0})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"numIdentidad"},"N\xfamero de identidad"),r.a.createElement("input",{type:"text",maxLength:"13",minLength:"13",onChange:c,value:v,placeholder:"0431200200847",className:"form-control",name:"numIdentidad",required:!0}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"numIdentidad"},"Sexo"),r.a.createElement("select",{id:"inputState",name:"sexo",required:!0,onChange:c,value:f,className:"form-control"},r.a.createElement("option",{defaultChecked:!0},"Seleccione..."),r.a.createElement("option",null,"Masculino"),r.a.createElement("option",null,"Femenino"))),r.a.createElement("div",{className:"form-group col "},r.a.createElement("label",{htmlFor:""},"Fecha de nacimiento")," ",r.a.createElement("br",null),r.a.createElement(Y.a,{className:"form-control ",required:!0,selected:E,onChange:i})),r.a.createElement("div",{className:"form-group col"},r.a.createElement("label",{htmlFor:"grado"},"Grado a Cursar"),r.a.createElement("select",{id:"inputState",name:"grado",required:!0,onChange:c,value:b,className:"form-control"},r.a.createElement("option",null,"Seleccione..."),r.a.createElement("option",null,"7"),r.a.createElement("option",null,"8"),r.a.createElement("option",null,"9"),r.a.createElement("option",null,"10"),r.a.createElement("option",null,"11"),r.a.createElement("option",null,"12"))),b>10&&r.a.createElement("div",{className:"form-group col-md-3"},r.a.createElement("label",{htmlFor:"grado"},"Modalidad"),r.a.createElement("select",{name:"modalidad",onChange:c,value:x,className:"form-control"},r.a.createElement("option",null,"Seleccione"),r.a.createElement("option",null,"BTPCF"),r.a.createElement("option",null,"BTPI"),r.a.createElement("option",null,"BTPCH")))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"numTelefono"},"N\xfamero de tel\xe9fono"),r.a.createElement("input",{type:"text",minLength:"8",maxLength:"8",className:"form-control",placeholder:"90987651",onChange:c,value:g,name:"numtelefono",required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",className:"form-control",onChange:c,value:d,placeholder:"ejemplo@gmail.com",name:"email",required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"numTelefono"},"Localidad"),r.a.createElement("input",{type:"text",className:"form-control",onChange:c,value:p,placeholder:"Aldea , Barrio/Pueblo",required:!0,name:"localidad"}))),r.a.createElement("h4",{className:"mt-2"},"Datos del Padre o Encargado"),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"name"},"Nombre Completo"),r.a.createElement("input",{type:"text",className:"form-control",onChange:c,value:h,placeholder:"Erick Marley Arita Orellana",required:!0,autoComplete:"off",name:"nameFather"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"numIdentidad"},"N\xfamero de identidad"),r.a.createElement("input",{type:"text",maxLength:"13",minLength:"13",onChange:c,value:N,placeholder:"0431200200847",className:"form-control",name:"numIdentidadFather",required:!0}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"sexoFather"},"Sexo"),r.a.createElement("select",{id:"inputState",name:"sexoFather",onChange:c,value:y,className:"form-control",required:!0},r.a.createElement("option",null,"Seleccione..."),r.a.createElement("option",null,"Masculino"),r.a.createElement("option",null,"Femenino"))),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:""},"Parentesco"),r.a.createElement("input",{type:"text",className:"form-control",onChange:c,value:j,placeholder:"padre,t\xedo/abuala etc",name:"parentesco",required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:""},"N\xfamero de tel\xe9fono"),r.a.createElement("input",{type:"text",className:"form-control",maxLength:"8",onChange:c,value:O,placeholder:"90987651",name:"telefonoFather",required:!0}))),r.a.createElement("h4",{className:"mt-2"},"Archivos Necesarios"),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-row "},r.a.createElement(H,{handleinputFile:s})),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn  btn-primary mt-5 w-25"}," Enviar "))))},X=(new Date).getFullYear(),Z=function(){var e=Object(n.useReducer)(G,[]),t=Object(o.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e=a.map((function(e){return e.state})),t=Object(o.a)(e,1)[0];void 0!==t&&(t.grado<10?O.collection("students").doc().set(Object(B.a)(Object(B.a)({},t),{},{date:"".concat(X),modalidad:"B\xe1sica",registered:!1})).then(N.a.fire({icon:"success",title:"Verificaremos tus datos",text:"Recivir\xe1s un correo si eres aceptado"})):10===t.grado?O.collection("students").doc().set(Object(B.a)(Object(B.a)({},t),{},{date:"".concat(X),modalidad:"A\xf1o de fundamento",registered:!1})).then(N.a.fire({icon:"success",title:"Verificaremos tus datos",text:"Recivir\xe1s un correo si eres aceptado"})):O.collection("students").doc().set(Object(B.a)(Object(B.a)({},t),{},{date:"".concat(X),registered:!1})).then(N.a.fire({icon:"success",title:"Verificaremos tus datos",text:"Recivir\xe1s un correo si eres aceptado"})))}),[a]);return r.a.createElement(K,{handleAdd:function(e){l({type:"add",payload:e})}})},Q=a(20),$=a.n(Q),ee=a(80),te=a.n(ee),ae=(a(187),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.ui})),a=t.msgError,n=t.loading,l=_({email:"",password:""}),c=Object(o.a)(l,2),i=c[0],m=c[1],d=i.email,p=i.password,f=Object(s.g)().location.pathname,E=function(){return $.a.isEmail(d)?$.a.isEmpty(p)||p.length<5?(e(A("La contrase\xf1a debe ser mayor a 5 caracteres ")),!1):(e(I()),!0):(e(A("Correo no valido")),!1)};return r.a.createElement("div",{className:"container-login"},r.a.createElement("div",{className:"textos-login"},r.a.createElement("h1",null,"Institulo Gubernamental Superaci\xf3n Cashapa"),r.a.createElement("p",null,"Educamos para transformar"),r.a.createElement("img",{src:te.a,alt:"logo instituto"})),r.a.createElement("div",{className:"formulario-login"},r.a.createElement("div",{className:"logo-login"},r.a.createElement("img",{src:R.a,alt:"logo"})),r.a.createElement("h1",{className:"mt-2"},"INGRESAR"),"/tasks-login"===f?r.a.createElement("div",{className:"d-flex justify-content-center mt-5 "},r.a.createElement("button",{className:"btn  btn-danger",onClick:function(){e((function(e){k.signInWithPopup(w).then((function(t){var a=t.user;e(q(a.uid,a.displayName))}))}))}},"Ingresar con Google")):r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),"/login"===f&&E()&&e(function(e,t){return function(a){a(L()),k.signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a(P(t.uid,t.displayName)),a(T())})).catch((function(e){N.a.fire("Error",F(e.code),"error"),a(T())}))}}(d,p))}},a&&r.a.createElement("p",{className:"alert"},a),r.a.createElement("input",{type:"email",name:"email",placeholder:"Correo",value:d,onChange:m,required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",value:p,onChange:m,required:!0}),r.a.createElement("input",{className:"boton-login",type:"submit",disabled:n}))))}),ne=function(e){return{type:S.getStudents,payload:{students:e}}},re=function(e,t){return{type:S.updateStudent,payload:{registered:e,id:t}}},le=function(){return{type:S.setLoading}},ce=function(){return{type:S.unsetLoading}},oe=function(e){var t=e.filter,a=Object(n.useMemo)((function(){for(var e=[],t=(new Date).getFullYear(),a=2020;a<=t;a++)e.push(a);return e}),[]);return"Grado"===t?[{id:1,value:"7"},{id:2,value:"8"},{id:3,value:"9"},{id:4,value:"10"},{id:5,value:"11"},{id:6,value:"12"}].map((function(e){return r.a.createElement("option",{key:e.id},e.value)})):"A\xf1o"===t?a.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})):"Modalidad"===t?[{id:4,value:"B\xe1sica"},{id:6,value:"A\xf1o de fundamento"},{id:1,value:"BTPCH"},{id:2,value:"BTPCF"},{id:3,value:"BTPI"}].map((function(e){return r.a.createElement("option",{key:e.id},e.value)})):"Matriculado"===t?[{id:1,value:!1},{id:2,value:!0}].map((function(e){return r.a.createElement("option",{value:e.value,key:e.id},e.value?"Si":"No")})):void 0},ie=function(e){var t=e.filter,a=e.name,n=e.value,l=e.handleInputChange;return r.a.createElement("div",{key:t,className:"form-group col-12"},r.a.createElement("label",null,t),r.a.createElement("select",{name:a,className:"form-control",value:n,onChange:l},r.a.createElement("option",null,"Seleccione"),r.a.createElement(oe,{filter:t})))},se=r.a.memo((function(e){var t=e.dispatch,a=Object(u.c)((function(e){return e.filters})),l=a.grado,c=a.date,o=a.modalidad,i=a.registered,s=[{filter:"A\xf1o",value:c,name:"date"},{filter:"Modalidad",value:o,name:"modalidad"},{filter:"Grado",value:l,name:"grado"},{filter:"Matriculado",value:i,name:"registered"}],m=function(e){var n=e.target;t(function(e){return{type:S.updateFilters,payload:e}}(Object(B.a)(Object(B.a)({},a),{},Object(z.a)({},n.name,n.value))))},d=Object(n.useCallback)((function(){return!($.a.isEmpty(c)||$.a.isEmpty(l)||$.a.isEmpty(o))&&!($.a.equals(c,"Seleccione")||$.a.equals(l,"Seleccione")||$.a.equals(o,"Seleccione"))}),[c,l,o]);return Object(n.useEffect)((function(){d()&&t(function(e,t,a,n){return function(r){r(le()),O.collection("students").where("grado","==",t).where("date","==",e).where("modalidad","==",a).where("registered","==",n).get().then((function(e){r(ce());var t=e.docs.map((function(e){return Object(B.a)(Object(B.a)({},e.data()),{},{id:e.id})}));r(ne(t))}))}}(c,l,o,i))}),[t,d,c,l,o,i]),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("h4",{className:"mt-1"},"Filtrar alumnos seg\xfan:"),r.a.createElement("form",{className:"d-flex justify-content-start"},r.a.createElement("div",{className:"row-cols-3"},s.map((function(e){var t=e.filter,a=e.value,n=e.name;return r.a.createElement(ie,{key:t,filter:t,value:a,name:n,handleInputChange:m})})))))})),ue=function(e){var t=e.handleStudentData,a=e.id,n=e.i,l=e.numIdentidad,c=e.name,o=e.grado,i=e.registered,s=Object(u.b)(),m=Object(u.c)((function(e){return e.filters})).registered,d=function(e,t){s(function(e,t){return function(a){O.collection("students").doc(e).update({registered:!t}).then((function(){a(re(t,e))})).catch((function(e){}))}}(e,t))};return r.a.createElement("tr",{key:a,style:{display:m!==i&&"none"},onClick:function(){return t(a)}},r.a.createElement("th",{scope:"row"},n+1),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,o," "),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return d(a,i)},className:"btn btn-primary"}," ",i?"SI":"NO")))},me=a(208),de=a.n(me),pe=function(){return r.a.createElement(de.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e4})},fe=function(e){var t=e.fullDataPanel,a=t.name,n=t.numIdentidad,l=t.edad,c=t.sexo,o=t.numtelefono,i=t.modalidad,s=t.localidad,u=t.email,m=t.url,d=t.nameFather,p=t.numIdentidadFather,f=t.telefonoFather,E=t.sexoFather,b=t.parentesco;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Datos del alumno"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Nombre")),r.a.createElement("p",null,a)),r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Identidad")),r.a.createElement("p",null,n)),r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Edad")),function(e){if(e){var t=e.seconds,a=e.nanoseconds,n=new x.Timestamp(t,a).toDate();return(new Date).getFullYear()-n.getFullYear()}}(l)),r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Sexo")),c)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Tel\xe9fono")),o),r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Modalidad")),i),r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Localidad")),s),r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Email")),u)),r.a.createElement("hr",null),r.a.createElement("h5",null,"Datos del padre"),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Nombre")),r.a.createElement("p",null,d)),r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Num Identidad")),r.a.createElement("p",null,p))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Sexo")),r.a.createElement("p",null,E)),r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Parentesco")),r.a.createElement("p",null,b)),r.a.createElement("div",{className:"col"},r.a.createElement("b",null,r.a.createElement("p",null,"Num tel\xe9fono")),r.a.createElement("p",null,f))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("img",{className:"img-thumbnail",src:m,alt:"imagen de alumno",width:"100px",height:"50px"}))))},Ee=a(209),be=function(e){var t=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),n=e.getDate();switch(a){case 0:a="Enero";break;case 1:a="Febrero";break;case 2:a="Marzo";break;case 3:a="Abril";break;case 4:a="Mayo";break;case 5:a="Junio";break;case 6:a="Julio";break;case 7:a="Agosto";break;case 8:a="Septiembre";break;case 9:a="Octubre";break;case 10:a="Noviembre";break;case 11:a="Diciembre";break;default:a="9/10/2020 "}return{year:t,month:a,day:n}}(),a=t.day,n=t.month,r=t.year,l=new Ee.a({orientation:"l",unit:"mm",format:"letter",putOnlyUsedFonts:!0,floatPrecision:16});e.forEach((function(e){l.setFontSize(20),l.text(80,60,"CONSTANCIA DE MATR\xcdCULA"),l.setFontSize(10),l.text(50,80,"Los suscritos Director(a) y Secretario(a) del Centro Educativo SUPERACI\xd3N CASHAPA con c\xf3digo",{align:"justify"}),l.text(50,85,"042100062M02,ubicado en el municipio de Santa Rita del departamento de COP\xc1N, por este medio",{align:"justify"}),l.text(50,90,"CERTIFICA QUE: ".concat(e.name," con R. N. E. ").concat(e.numIdentidad," ,se matricul\xf3 en este "),{align:"justify"}),l.text(50,95,"Centro Educativo para realizar estudios en el ".concat(e.grado," grado.")),l.text(50,105,"Y para los fines que el interesado(a) estime conveniente se le extiende la presente en el municipio de \nSanta Rita a los ".concat(a," del mes de ").concat(n," del ").concat(r,".")),l.text(80,140,"Director(a)                                                             Secretario(a)"),l.line(70,135,107,135),l.line(150,135,185,135),l.addPage()})),l.save("matriculados.pdf")},ge=function(){var e=Object(u.b)();return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e({type:S.setCreatePdf}),e((function(e){O.collection("students").where("registered","==",!0).get().then((function(t){var a=t.docs.map((function(e){return e.data()}));be(a),e(ce())}))}))},className:"btn btn-danger",type:"primary"},"Descargar PDF"))},ve=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.students})),a=t.students,l=t.loading,c=Object(n.useState)(!0),i=Object(o.a)(c,2),s=i[0],m=i[1],d=Object(n.useState)({}),p=Object(o.a)(d,2),f=p[0],E=p[1],b=function(e){var t=a.find((function(t){return t.id===e}));E(t)};return r.a.createElement("div",{className:"container-fluid  ",style:{height:"100vh"}},r.a.createElement("div",{className:"pt-2"},r.a.createElement("h3",{className:"text-center align-middle"},"Gesti\xf3n de matricula"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){m(!s)}},"Filtros"),r.a.createElement(ge,null)),r.a.createElement("hr",null)),r.a.createElement("div",{className:" row  h-100"},s&&r.a.createElement(se,{dispatch:e}),r.a.createElement("div",{className:"col"},r.a.createElement("table",{className:"table table-striped "},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Identidad"),r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Grado"),r.a.createElement("th",{scope:"col"},"Matriculado?"))),r.a.createElement("tbody",null,(null===a||void 0===a?void 0:a.length)>=1&&a.map((function(e,t){var a=e.name,n=e.numIdentidad,l=e.grado,c=e.id,o=e.registered;return r.a.createElement(ue,{key:c,handleStudentData:b,name:a,registered:o,numIdentidad:n,grado:l,id:c,i:t})})))),l&&r.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{position:"absolute",height:"250px",width:"500px"}},r.a.createElement(pe,null))),r.a.createElement("div",{className:"col"},f.name&&r.a.createElement(fe,{fullDataPanel:f}))))},he=a(82),Ne=function(e){var t=e.isAutenticated,a=e.component,n=Object(he.a)(e,["isAutenticated","component"]);return r.a.createElement(s.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(a,e):r.a.createElement(s.a,{to:"/login"})}}))},ye=function(e){var t=e.isAutenticated,a=e.next,n=e.component,l=Object(he.a)(e,["isAutenticated","next","component"]);return r.a.createElement(s.b,Object.assign({},l,{component:function(e){return t?r.a.createElement(s.a,{to:a||"/manage"}):r.a.createElement(n,e)}}))},je=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.ui})),a=t.msgError,n=t.loading,l=_({email:"",password:"",name:""}),c=Object(o.a)(l,2),i=c[0],s=c[1],m=i.email,d=i.password,p=i.name,f=function(){return p.trim().length<4?(e(A("El Nombre debe tener 4 letras o m\xe1s")),!1):$.a.isEmail(m)?d.length<5?(e(A("La Contrase\xf1a debe ser mayor a 5 caracteres")),!1):(e(I()),!0):(e(A("Ingrese email valido")),!1)};return r.a.createElement("div",{className:"container-login"},r.a.createElement("div",{className:"textos-login"},r.a.createElement("h1",null,"Centro De Educaci\xf3n Media Gubernamental ",r.a.createElement("br",null),'"Superaci\xf3n Cashapa"'),r.a.createElement("p",null,"Educamos para transformar"),r.a.createElement("img",{src:te.a,alt:"logo instituto"})),r.a.createElement("div",{className:"formulario-login"},r.a.createElement("div",{className:"logo-login"},r.a.createElement("img",{src:R.a,alt:"logo"})),r.a.createElement("h1",null,"Crear Administrador"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),f()&&e(function(e,t,a){return function(n){n(L()),k.createUserWithEmailAndPassword(e,t).then(function(){var e=Object(v.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,e.next=3,r.updateProfile({displayName:a});case 3:n(P(r.uid,r.displayName)),n(T());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){N.a.fire("Error",F(e.code),"error"),n(T())}))}}(m,d,p))}},a&&r.a.createElement("p",{className:"alert"},a),r.a.createElement("input",{type:"text",name:"name",placeholder:"Nombre",value:p,onChange:s,required:!0}),r.a.createElement("input",{type:"email",name:"email",placeholder:"Correo",value:m,onChange:s,required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",value:d,onChange:s,required:!0}),r.a.createElement("input",{className:"boton-login",disabled:n,type:"submit"}))))},Oe=(a(480),a(481),a(200),a(482),function(e){return function(t){e?O.collection("tasks").where("uid","==",e).get().then((function(e){var a=e.docs.map((function(e){return Object(B.a)(Object(B.a)({},e.data()),{},{id:e.id})}));t(xe(a))})):console.log("object")}}),xe=function(e){return{type:S.getTasks,payload:{tasks:e}}},Ce=function(e,t,a){return function(n){O.collection("tasks").add({title:e,body:t,uid:a}).then((function(){n({type:S.createTask}),n(Oe(a))}))}},ke=function(e){return{type:S.deleteTask,payload:e}},we=function(e){return{type:S.getTask,payload:e}},Se=function(e,t,a,n){return function(r){O.collection("tasks").doc(e).update({title:t,body:a,uid:n}).then((function(){r({type:S.updateTask}),r(Oe(n))}))}},Fe=a(124),Ae=a(122),Ie=function(e){var t=e.title,a=e.body,l=e.doc,c=e.setUpdating,i=Object(n.useState)(""),s=Object(o.a)(i,2),m=s[0],d=s[1],p=Object(u.b)(),f=function(e){p(function(e){return function(t){O.collection("tasks").doc(e).delete().then((function(){t(ke(e))}))}}(e)),d("none")};return r.a.createElement("div",{className:"card",style:{display:m}},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h5",{className:"card-title text-center"},t),r.a.createElement("div",{className:"w-25 d-flex "},r.a.createElement(Ae.a,{onClick:function(){return f(l)},icon:Fe.b,color:"red",cursor:"pointer",className:"mr-3"}),r.a.createElement(Ae.a,{onClick:function(){return function(e){c({updating:!0,taskId:e})}(l)},icon:Fe.a,cursor:"pointer"}))),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text"}," ",a," ")))},Le=(a(483),function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.studentAuth})).uid,a=Object(u.c)((function(e){return e.tasks})),l=a.tasks,c=a.taskUpdated,i=Object(n.useState)({updating:!1,taskId:""}),s=Object(o.a)(i,2),m=s[0],d=s[1],p=_({title:"",body:""}),f=Object(o.a)(p,6),E=f[0],b=f[1],g=f[4],v=f[5],h=E.title,y=E.body;Object(n.useEffect)((function(){e(Oe(t))}),[t,e]);return Object(n.useEffect)((function(){var t;""!==m.taskId&&e((t=m.taskId,function(e){O.collection("tasks").doc(t).get().then((function(t){var a=t.data();e(we(a))}))}))}),[m.taskId,e]),Object(n.useEffect)((function(){c&&v({title:c.title,body:c.body})}),[c,v]),r.a.createElement("div",{className:"bg container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6  p-4"},r.a.createElement("h3",{className:" d-flex justify-content-center text-center "},"Crear Tarea"),r.a.createElement("form",{className:"form-task"},r.a.createElement("div",{className:"d-flex flex-column "},r.a.createElement("input",{type:"text",name:"title",autoComplete:"false",className:"mb-2 input form-control ",onChange:b,required:!0,value:h,maxLength:"20"}),r.a.createElement("textarea",{acols:"10",name:"body",className:"form-control textarea mt-3",onChange:b,rows:"5",required:!0,value:y,maxLength:"120"})),r.a.createElement("button",{className:"btn btn-dark btn-block mt-4",onClick:m.updating?function(a){a.preventDefault(),e(Se(m.taskId,h,y,t)),g(),d(Object(B.a)(Object(B.a)({},m),{},{updating:!1}))}:function(a){a.preventDefault(),$.a.isEmpty(h)||$.a.isEmpty(y)?N.a.fire({icon:"error",title:"Oops...",text:"Por favor no deje campos vacios"}):e(Ce(h,y,t))}},m.updating?"ACTUALIZAR":"CREAR"))),r.a.createElement("div",{className:" col-sm-6  pt-4"},r.a.createElement("h3",{className:" d-flex justify-content-center text-center "},"Tareas A Realizar"),r.a.createElement("div",{className:"scroll"},(null===l||void 0===l?void 0:l.length)>0?l.map((function(e){var t=e.id,a=e.title,n=e.body;return r.a.createElement(Ie,{key:t,title:a,body:n,doc:t,setUpdating:d})})):r.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},r.a.createElement(pe,null))))))}),Te=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),m=Object(o.a)(c,2),d=m[0],p=m[1],f=Object(n.useState)(!1),b=Object(o.a)(f,2),g=b[0],v=b[1],h=Object(u.c)((function(e){return e.studentAuth})),N=Object(u.b)();return Object(n.useEffect)((function(){k.onAuthStateChanged((function(e){(null===e||void 0===e?void 0:e.uid)&&!1===(null===e||void 0===e?void 0:e.emailVerified)?(N(P(e.uid,e.displayName)),p(!0)):p(!1),l(!1)}))}),[N,l]),Object(n.useEffect)((function(){N({type:S.setFilters})}),[N]),Object(n.useEffect)((function(){h.uid?v(!0):v(!1)}),[h]),a?r.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"}},r.a.createElement(pe,null)):r.a.createElement("div",null,r.a.createElement(i.a,{basename:"/docs"},r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:E}),r.a.createElement(s.b,{path:"/matricularme",exact:!0,component:Z}),r.a.createElement(ye,{path:"/login",exact:!0,isAutenticated:d,component:ae}),r.a.createElement(Ne,{exact:!0,isAutenticated:d,path:"/manage",component:ve}),r.a.createElement(Ne,{exact:!0,isAutenticated:d,path:"/createAcount",component:je}),r.a.createElement(ye,{path:"/tasks-login",next:"/tasks",exact:!0,isAutenticated:g,component:ae}),r.a.createElement(Ne,{exact:!0,isAutenticated:g,path:"/tasks",component:Le}),r.a.createElement(s.a,{to:"/"})))))},Pe=a(43),De=a(210),qe={loading:!1,msgError:null},Me="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Pe.d,Re=Object(Pe.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.login:return{uid:t.payload.uid,name:t.payload.displayName};case S.logout:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.uiSetError:return Object(B.a)(Object(B.a)({},e),{},{msgError:t.payload});case S.uiRemoveError:return Object(B.a)(Object(B.a)({},e),{},{msgError:null});case S.uiStartLoading:return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case S.uiFinishLoading:return Object(B.a)(Object(B.a)({},e),{},{loading:!1});default:return e}},students:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.students;switch(t.type){case S.getStudents:return Object(B.a)(Object(B.a)({},e),{},{students:t.payload.students});case S.updateStudent:var n=a.find((function(e){return e.id===t.payload.id})),r=a.findIndex((function(e){return e.id===t.payload.id})),l=Object(B.a)(Object(B.a)({},n),{},{registered:!t.payload.registered});return a.splice(r,1,l),Object(B.a)(Object(B.a)({},e),{},{students:a});case S.setLoading:return Object(B.a)(Object(B.a)({},e),{},{loading:!0});case S.unsetLoading:return Object(B.a)(Object(B.a)({},e),{},{loading:!1});default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.setFilters:return{grado:"",date:"",modalidad:"",registered:!1};case S.updateFilters:var a=t.payload;return Object(B.a)(Object(B.a)(Object(B.a)({},e),a),{},{registered:"true"===a.registered});default:return e}},createPdf:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.setCreatePdf:return{loading:!0};case S.unSetCreatePdf:return{loading:!1};default:return e}},studentAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.loginStudent:return Object(B.a)(Object(B.a)({},e),{},{uid:t.payload.uid,name:t.payload.displayName});case S.logoutStudent:return{};default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.createTask:return Object(B.a)({},e);case S.getTasks:return Object(B.a)(Object(B.a)({},e),{},{tasks:t.payload.tasks});case S.getTask:return Object(B.a)(Object(B.a)({},e),{},{taskUpdated:t.payload});case S.deleteTask:return Object(B.a)({},e);default:return e}}}),Ue=Object(Pe.e)(Re,Me(Object(Pe.a)(De.a))),Be=function(){return r.a.createElement(u.a,{store:Ue},r.a.createElement(Te,null))};c.a.render(r.a.createElement(Be,null),document.getElementById("root"))},50:function(e,t,a){e.exports=a.p+"static/media/logo.0bacc30a.png"},80:function(e,t,a){e.exports=a.p+"static/media/ilustracion login.1729b85c.svg"}},[[212,1,2]]]);
//# sourceMappingURL=main.3e6240c2.chunk.js.map